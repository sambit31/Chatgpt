User Message
   ↓
Short-term memory (MongoDB)
   ↓
Query long-term memory (Vector DB)
   ↓
Combine:
   - Recent messages
   - Relevant old memories
   ↓
Send to Gemini
   ↓
Generate response
   ↓
Store response in:
   - MongoDB
   - Vector DB
